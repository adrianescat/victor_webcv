!function(n){n.fn.cntl=function(l){var e=n.extend({revealbefore:200,anim_class:"cntl-animate",onreveal:null},l);return this.each(function(){function l(){for(var l=0;l<t.length;l++)i[l]={},i[l].top=n(t[l]).offset().top+e.revealbefore,i[l].elm=n(t[l]);o()}function o(){for(var l=n(window).scrollTop(),o=l+n(window).height(),t=0;t<i.length;t++)if(i[t].top>l&&i[t].top<o){!i[t].elm.hasClass(e.anim_class)&&n.isFunction(e.onreveal)&&e.onreveal.call(this,i[t].elm),i[t].elm.addClass(e.anim_class);var r=i[t].elm.position().top;r>s&&(s=r),a.height(s)}}var t=n(this).find(".cntl-state"),a=n(this).find(".cntl-bar-fill"),i=[],s=0;n(window).on("scroll",o),n(window).on("load",l)})}}(jQuery);